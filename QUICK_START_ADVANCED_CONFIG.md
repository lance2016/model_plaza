# 快速使用指南 - 高级聊天配置

## 🚀 如何使用

### 1. 打开高级设置

在聊天界面顶部，模型选择器旁边，点击齿轮图标 ⚙️

### 2. 配置参数

#### 系统提示词示例

**编程助手**:
```
你是一个专业的编程助手。请提供清晰、准确的代码示例，并解释关键概念。始终遵循最佳实践。
```

**创意写作**:
```
你是一位富有想象力的作家。用生动的语言创作故事，注重细节描写和情感表达。
```

**严谨学者**:
```
你是一位严谨的学术研究员。回答必须准确、有据可查，并引用相关来源。
```

**友好客服**:
```
你是一位友好、耐心的客服代表。用温暖的语气回答问题，始终以解决客户问题为目标。
```

#### 温度 (Temperature) 快速参考

| 场景 | 推荐值 | 说明 |
|------|--------|------|
| 代码生成 | 0.0 - 0.3 | 需要精确、一致的输出 |
| 技术问答 | 0.3 - 0.5 | 准确但允许一定灵活性 |
| 日常对话 | 0.5 - 0.8 | 平衡自然和准确性 |
| 创意写作 | 0.8 - 1.2 | 鼓励创造性表达 |
| 头脑风暴 | 1.2 - 1.8 | 最大化想法多样性 |

#### 其他参数建议

**最大 Tokens**:
- 短回答: 256 - 512
- 正常对话: 1024 - 2048
- 长文档: 4096 - 8192
- 超长内容: 16000+

**频率惩罚** (避免重复):
- 短对话: 0
- 长对话: 0.3 - 0.7
- 创意写作: 0.5 - 1.0

**存在惩罚** (话题多样性):
- 深入讨论: 0 或负值
- 多话题对话: 0.3 - 0.6

### 3. 开始对话

配置完成后，直接发送消息即可。AI 会按照你的配置生成回复。

### 4. 重置配置

点击面板底部的"重置为默认值"按钮，恢复初始设置。

### 5. 新对话

点击"新对话"时，所有配置会自动重置为默认值。

## 💡 常见场景配置

### 场景 1: 调试代码
```
系统提示词: 你是一个编程调试专家，帮助分析和修复代码问题。
温度: 0.2
最大Tokens: 4096
Top P: 0.9
频率惩罚: 0
存在惩罚: 0
```

### 场景 2: 学习新概念
```
系统提示词: 你是一位耐心的老师，用简单易懂的方式解释复杂概念。
温度: 0.5
最大Tokens: 2048
Top P: 1.0
频率惩罚: 0.2
存在惩罚: 0.1
```

### 场景 3: 头脑风暴
```
系统提示词: 你是一位创新思维专家，提供独特和多样化的想法。
温度: 1.0
最大Tokens: 4096
Top P: 1.0
频率惩罚: 0.6
存在惩罚: 0.4
```

### 场景 4: 文档撰写
```
系统提示词: 你是一位专业的技术文档作者，擅长撰写清晰、结构化的文档。
温度: 0.4
最大Tokens: 8192
Top P: 0.95
频率惩罚: 0.3
存在惩罚: 0.2
```

### 场景 5: 翻译
```
系统提示词: 你是一位专业翻译，提供准确且符合目标语言习惯的翻译。
温度: 0.3
最大Tokens: 4096
Top P: 0.9
频率惩罚: 0
存在惩罚: 0
```

## 🎯 实用技巧

### 技巧 1: 系统提示词要具体
❌ 不好: "帮我写代码"  
✅ 好: "你是一个Python专家，专注于数据科学。提供完整可运行的代码，包含注释和错误处理。"

### 技巧 2: 温度和 Top P 不要都设置得很高
- 两者都控制随机性
- 建议：调整其中一个，另一个保持默认

### 技巧 3: 长对话增加频率惩罚
- 避免 AI 不断重复相同的句式
- 推荐值: 0.3 - 0.5

### 技巧 4: 根据任务调整 maxTokens
- 不要一味设置最大值
- 合理限制可以让回答更聚焦

### 技巧 5: 存在惩罚用于多话题
- 如果希望深入讨论一个问题，设为 0 或负值
- 如果希望覆盖多个方面，设为正值 (0.3-0.5)

## 🔍 调试技巧

### 查看实际发送的参数

打开浏览器开发者工具 → Console，你会看到详细日志（在终端）：

```
=== Chat API Request ===
Model ID: qwen-plus
Chat Config: {
  systemPrompt: '你是一个编程助手',
  temperature: 0.2,
  ...
}
```

### 如果 AI 没有遵循系统提示词

1. 检查提示词是否清晰具体
2. 尝试降低 temperature
3. 某些模型对系统提示词的支持程度不同

### 如果回答太短

1. 增加 maxTokens
2. 在系统提示词中明确要求详细回答

### 如果回答太长

1. 减少 maxTokens
2. 在系统提示词中要求简洁

## 📊 参数对比表

| 参数 | 低值效果 | 高值效果 | 默认值 |
|------|----------|----------|--------|
| Temperature | 确定、一致 | 创造、随机 | 0.7 |
| Top P | 保守选词 | 多样选词 | 1.0 |
| Max Tokens | 简短 | 详细 | 4096 |
| Frequency Penalty | 允许重复 | 避免重复 | 0 |
| Presence Penalty | 深入当前话题 | 引入新话题 | 0 |

## ⚠️ 注意事项

1. **不是所有模型都支持所有参数**
   - AI SDK 会自动忽略不支持的参数
   - 查看终端日志确认实际传递的参数

2. **系统提示词会消耗 tokens**
   - 越长的系统提示词，留给回答的空间越少
   - 建议控制在 200 字以内

3. **配置不会保存**
   - 当前版本每次新对话都会重置
   - 未来版本会支持保存配置预设

4. **极端参数值可能导致意外结果**
   - Temperature > 1.5 可能产生不连贯的内容
   - Penalty 值过高可能导致不自然的回答

## 🎓 进阶用法

### 组合使用多个参数

**示例：技术博客写作**
```
系统提示词: 你是一位技术博客作者，擅长将复杂技术用通俗易懂的方式讲解。
温度: 0.6 (保持准确但有创意)
最大Tokens: 8192 (长文章)
频率惩罚: 0.4 (避免重复句式)
存在惩罚: 0.2 (涵盖多个要点)
```

### 动态调整参数

在对话过程中，如果发现：
- AI 太啰嗦 → 降低 maxTokens
- AI 太死板 → 提高 temperature
- AI 重复自己 → 提高 frequencyPenalty
- AI 偏离话题 → 降低 presencePenalty

## 📞 需要帮助？

如果遇到问题，可以：
1. 查看终端日志中的详细输出
2. 尝试重置为默认配置
3. 参考 `/ADVANCED_CHAT_CONFIG.md` 获取更多技术细节

---

祝你使用愉快！🎉
